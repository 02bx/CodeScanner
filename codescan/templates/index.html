{% extends "base.html" %}{% load static %}
{% block body %}

<!-- 内容区域 -->
        <div class="tpl-content-wrapper">

            <div class="container-fluid am-cf">
                <div class="row">
                    <div class="am-u-sm-12 am-u-md-12 am-u-lg-9">
                        <div class="page-header-heading"><span class="am-icon-home page-header-heading-icon"></span> Code Scanner</div>
                        <p class="page-header-description">自动拉取gitlab或解析代码包的 安全审计工具</p>
                    </div>
                    <div class="am-u-lg-3 tpl-index-settings-button">
                        <button type="button" class="page-header-button"><span class="am-icon-paint-brush"></span> 设置</button>
                    </div>
                </div>

            </div>

<div class="row-content am-cf">
                <div class="row  am-cf">
                    <div class="am-u-sm-12 am-u-md-12 am-u-lg-4">
                        <div class="widget am-cf">
                            <div class="widget-head am-cf">
                                <div class="widget-title am-fl">历史扫描任务总览</div>
                                <div class="widget-function am-fr">
                                    <a href="javascript:;" class="am-icon-cog"></a>
                                </div>
                            </div>
                            <div class="widget-body am-fr">
                                <div class="am-fl">
                                    <div class="widget-fluctuation-period-text">
                                        历史任务数：{{vuln_count.0}}
                                        
                                    </div>
                                </div>
                                <div class="am-fr am-cf">
                                    <div >
                                        历史漏洞数：{{vuln_count.1}}

                                    </div>
                                    
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="am-u-sm-12 am-u-md-6 am-u-lg-4">
                        <div class="widget widget-primary am-cf">
                            <div class="widget-statistic-header">
                                本月任务
                            </div>
                            <div class="widget-statistic-body">
                                <div class="widget-statistic-value">
                                    {{vuln_count.6}}
                                </div>
                               
                                <span class="widget-statistic-icon am-icon-credit-card-alt"></span>
                            </div>
                        </div>
                    </div>
                    <div class="am-u-sm-12 am-u-md-6 am-u-lg-4">
                        <div class="widget widget-purple am-cf">
                            <div class="widget-statistic-header">
                                本月漏洞
                            </div>
                            <div class="widget-statistic-body">
                                <div class="widget-statistic-value">
                                    {{vuln_count.7}}
                                </div>
                                
                                <span class="widget-statistic-icon am-icon-support"></span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row am-cf">
                    <div class="am-u-sm-12 am-u-md-8">
                        <div class="widget am-cf">
                            <div class="widget-head am-cf">
                                <div class="widget-title am-fl">近月漏洞情况</div>
                                
                            </div>
                            <div class=" am-fr" id="echarts1">
                                <div id="main" style="width: 600px;height:300px;"></div>
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));

        // 指定图表的配置项和数据
        var option = {
        xAxis: {
            type: 'category',
            data: ['{{month_count.5}}', '{{month_count.6}}', '{{month_count.7}}', '{{month_count.8}}', '{{month_count.9}}']
            },
        yAxis: {
            type: 'value'
            },
        series: [{
            data: [{{month_count.0}},{{month_count.1}},{{month_count.2}},{{month_count.3}},{{month_count.4}}],
            type: 'line'
            }]
        };


        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    </script>
                            </div>
                        </div>
                    </div>

                    <div class="am-u-sm-12 am-u-md-4">
                        <div class="widget am-cf">
                            <div class="widget-head am-cf">
                                <div class="widget-title am-fl">专用服务器负载</div>
                                <div class="widget-function am-fr">
                                    <a href="javascript:;" class="am-icon-cog"></a>
                                </div>
                            </div>
                            <div class="widget-body widget-body-md am-fr">

                                <div class="am-progress-title">操作系统信息 <span class="am-fr am-progress-title-more">{{system_info.0}}</span></div>
                                <br>
                                <div class="am-progress-title">内存 使用率 <span class="am-fr am-progress-title-more">{{system_info.1}} / 100%</span></div>
                                <div class="am-progress">
                                    <div class="am-progress-bar  am-progress-bar-warning" style="width: calc({{system_info.1}})"></div>
                                </div>
                                <div class="am-progress-title">CPU 使用率 <span class="am-fr am-progress-title-more">{{system_info.2}} / 100%</span></div>
                                <div class="am-progress">
                                    <div class="am-progress-bar am-progress-bar-danger" style="width: calc({{system_info.2}})"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="row am-cf">
                    
                    </div>

                    <div class="am-u-sm-12 am-u-md-12 am-u-lg-8 widget-margin-bottom-lg">

                        
                        </div>
{% endblock %}
